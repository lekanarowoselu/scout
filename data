CREATE TABLE roomseeker_profile (id INT AUTO_INCREMENT NOT NULL, user_id INT DEFAULT NULL, firstname VARCHAR(255) NOT NULL, lastname VARCHAR(255) NOT NULL, sex VARCHAR(255) NOT NULL, date_of_birth DATETIME NOT NULL, about_you LONGTEXT NOT NULL, picture_path VARCHAR(255) DEFAULT 'images2.png', telephone INT NOT NULL, street VARCHAR(255) NOT NULL, city VARCHAR(255) NOT NULL, state VARCHAR(255) NOT NULL, country VARCHAR(255) NOT NULL, UNIQUE INDEX UNIQ_282BCCC4A76ED395 (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE agent_house_category (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, description LONGTEXT NOT NULL, UNIQUE INDEX UNIQ_30D744E65E237E06 (name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE company_profile (id INT AUTO_INCREMENT NOT NULL, user_id INT DEFAULT NULL, name VARCHAR(255) NOT NULL, description LONGTEXT NOT NULL, street VARCHAR(255) NOT NULL, city VARCHAR(255) NOT NULL, state VARCHAR(255) NOT NULL, country VARCHAR(255) NOT NULL, telephone INT NOT NULL, website_url VARCHAR(255) DEFAULT NULL, contact_email VARCHAR(255) NOT NULL, picture_path VARCHAR(255) DEFAULT 'images.png', UNIQUE INDEX UNIQ_A105B0D85E237E06 (name), UNIQUE INDEX UNIQ_A105B0D8450FF010 (telephone), UNIQUE INDEX UNIQ_A105B0D89C0C3B6D (website_url), UNIQUE INDEX UNIQ_A105B0D8CAB86C7B (contact_email), UNIQUE INDEX UNIQ_A105B0D8A76ED395 (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE agent_house (id INT AUTO_INCREMENT NOT NULL, agent_id INT NOT NULL, type VARCHAR(255) NOT NULL, title VARCHAR(255) NOT NULL, description LONGTEXT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX IDX_5E7B11E53414710B (agent_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE agent_houses_categories (house_id INT NOT NULL, house_category_id INT NOT NULL, INDEX IDX_114919EF6BB74515 (house_id), INDEX IDX_114919EF6C967117 (house_category_id), PRIMARY KEY(house_id, house_category_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE agent_houses_amenities (house_id INT NOT NULL, house_amenity_id INT NOT NULL, INDEX IDX_E57541CD6BB74515 (house_id), INDEX IDX_E57541CDFE0F5B08 (house_amenity_id), PRIMARY KEY(house_id, house_amenity_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE agent_house_amenity (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, description LONGTEXT NOT NULL, UNIQUE INDEX UNIQ_3377A8C95E237E06 (name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE agent_room_feature (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, description LONGTEXT NOT NULL, UNIQUE INDEX UNIQ_85B9464D5E237E06 (name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE agent_house_room (id INT AUTO_INCREMENT NOT NULL, house_id INT NOT NULL, type VARCHAR(255) NOT NULL, title VARCHAR(255) NOT NULL, description LONGTEXT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX IDX_5BB7AEBE6BB74515 (house_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE agent_rooms_features (room_id INT NOT NULL, room_feature_id INT NOT NULL, INDEX IDX_DC17C3C54177093 (room_id), INDEX IDX_DC17C3C5416C865 (room_feature_id), PRIMARY KEY(room_id, room_feature_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE fos_user (id INT AUTO_INCREMENT NOT NULL, username VARCHAR(255) NOT NULL, username_canonical VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, email_canonical VARCHAR(255) NOT NULL, enabled TINYINT(1) NOT NULL, salt VARCHAR(255) NOT NULL, password VARCHAR(255) NOT NULL, last_login DATETIME DEFAULT NULL, locked TINYINT(1) NOT NULL, expired TINYINT(1) NOT NULL, expires_at DATETIME DEFAULT NULL, confirmation_token VARCHAR(255) DEFAULT NULL, password_requested_at DATETIME DEFAULT NULL, roles LONGTEXT NOT NULL COMMENT '(DC2Type:array)', credentials_expired TINYINT(1) NOT NULL, credentials_expire_at DATETIME DEFAULT NULL, usertype INT DEFAULT 1, UNIQUE INDEX UNIQ_957A647992FC23A8 (username_canonical), UNIQUE INDEX UNIQ_957A6479A0D96FBF (email_canonical), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE roomseeker_profile ADD CONSTRAINT FK_282BCCC4A76ED395 FOREIGN KEY (user_id) REFERENCES fos_user (id);
ALTER TABLE company_profile ADD CONSTRAINT FK_A105B0D8A76ED395 FOREIGN KEY (user_id) REFERENCES fos_user (id);
ALTER TABLE agent_house ADD CONSTRAINT FK_5E7B11E53414710B FOREIGN KEY (agent_id) REFERENCES company_profile (id);
ALTER TABLE agent_houses_categories ADD CONSTRAINT FK_114919EF6BB74515 FOREIGN KEY (house_id) REFERENCES agent_house (id) ON DELETE CASCADE;
ALTER TABLE agent_houses_categories ADD CONSTRAINT FK_114919EF6C967117 FOREIGN KEY (house_category_id) REFERENCES agent_house_category (id) ON DELETE CASCADE;
ALTER TABLE agent_houses_amenities ADD CONSTRAINT FK_E57541CD6BB74515 FOREIGN KEY (house_id) REFERENCES agent_house (id) ON DELETE CASCADE;
ALTER TABLE agent_houses_amenities ADD CONSTRAINT FK_E57541CDFE0F5B08 FOREIGN KEY (house_amenity_id) REFERENCES agent_house_amenity (id) ON DELETE CASCADE;
ALTER TABLE agent_house_room ADD CONSTRAINT FK_5BB7AEBE6BB74515 FOREIGN KEY (house_id) REFERENCES agent_house (id);
ALTER TABLE agent_rooms_features ADD CONSTRAINT FK_DC17C3C54177093 FOREIGN KEY (room_id) REFERENCES agent_house_room (id) ON DELETE CASCADE;
ALTER TABLE agent_rooms_features ADD CONSTRAINT FK_DC17C3C5416C865 FOREIGN KEY (room_feature_id) REFERENCES agent_room_feature (id) ON DELETE CASCADE;
dev2@dev2:/var/www/html/roomscout$
